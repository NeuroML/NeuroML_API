language: cpp

sudo: required

dist: xenial

compiler:
    - gcc

install:
    - sudo apt-get update -qq
    - sudo apt-get install apt-transport-https ca-certificates gnupg software-properties-common wget
    - wget -O - https://apt.kitware.com/keys/kitware-archive-latest.asc 2>/dev/null | gpg --dearmor - | sudo tee /etc/apt/trusted.gpg.d/kitware.gpg >/dev/null
    - sudo apt-add-repository 'deb https://apt.kitware.com/ubuntu/ xenial main'
    - sudo apt-get install -y -qq cmake libxerces-c-dev xsdcxx

script:
    - ls -alt
    - mkdir NeuroML_API_build
    - cd NeuroML_API_build
    - cmake ..
    - make
    - ctest
    - ./create_net network.nml
    - ./example network.nml
    - ls -alt
